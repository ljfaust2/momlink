<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <title></title>

    <link href="http://code.ionicframework.com/1.2.4/css/ionic.css" rel="stylesheet">
    <link href="../css/style.css" rel="stylesheet">

    <script src="http://code.ionicframework.com/1.2.4/js/ionic.bundle.min.js"></script>

    <!-- cordova script (this will be a 404 during development) -->
    <script src="cordova.js"></script>

    <!-- your app's js -->
    <script src="../js/app.js"></script>
    <script src="../js/controllers.js"></script>
    <script src="../js/services.js"></script>
</head>
<body ng-app="starter" ng-controller="HeaderBarController">
    <ion-header-bar align-title="middle" class="bar-positive" ng-controller="HeaderBarController">
        <div class="buttons">
            <button class="button button-icon icon ion-ios-home" ng-click="home()"></button>
        </div>
        <h1 class="title">MomLink</h1>
        <div class="buttons">
            <button class="button button-icon icon ion-navicon-round" ng-click="toggleTopMenu()"></button>
        </div>
    </ion-header-bar>
    <ion-top-menu class="text-center has-header">
        <ion-content overflow-scroll="false">
            <div class="row">
                <div class="col"><img src="../img/buttons/btn-04.png" ng-click="mail()" style="width:75px;height:75px;vertical-align:middle" alt="Mail"><p>Mail</p></div>
                <div class="col"><img src="../img/buttons/btn-05.png" ng-click="calendar()" style="width:75px;height:75px;vertical-align:middle" alt="Calendar"><p>Calendar</p></div>
                <div class="col"><img src="../img/buttons/btn-06.png" ng-click="communities()" style="width:75px;height:75px;vertical-align:middle" alt="Communities"><p>Communities</p></div>
            </div>
            <div class="row">
                <div class="col"><img src="../img/buttons/btn-08.png" ng-click="track()" style="width:75px;height:75px;vertical-align:middle" alt="Track"><p>Track</p></div>
                <div class="col"><img src="../img/buttons/btn-07.png" ng-click="coupons()" style="width:75px;height:75px;vertical-align:middle" alt="Coupons"><p>Coupons</p></div>
                <div class="col"><img src="../img/buttons/btn-09.png" ng-click="content()" style="width:75px;height:75px;vertical-align:middle" alt="Communities"><p>Content</p></div>
            </div>
            <div class="row">
                <div class="col"></div>
                <div class="col"><img src="../img/buttons/btn-12.png" ng-click="myProfile()" style="width:75px;height:75px;vertical-align:middle" alt="My Profile"><p>My Profile</p></div>
                <div class="col"><img src="../img/buttons/btn-11.png" ng-click="logout()" style="width:75px;height:75px;vertical-align:middle" alt="Logout"><p>Logout</p></div>
            </div>
        </ion-content>
    </ion-top-menu>
    <ion-pane>
        <ion-view>
            <ion-content overflow-scroll="false" class="has-header" ng-app="plugins" ng-controller="EventController">
                <div class="row">
                    <p style="text-indent: 5px;">Select Event Type</p>
                </div>  
                <div class="row row-no-padding padding-bottom">
                    <div class="col"><center><input id="obappt" class="col" type="image"  ng-click="select('obappt')" src="../img/temp/obappt.PNG" style="width:50px;height:50px;vertical-align:middle" />OB Appt</center></div>
                    <div class="col"><center><input id="tests" class="col" type="image" ng-click="select('tests')" src="../img/temp/tests.PNG" style="width:50px;height:50px;vertical-align:middle" />Tests</center></div>
                    <div class="col"><center><input id="visits" class="col" type="image" ng-click="select('visits')" src="../img/temp/visits.PNG" style="width:50px;height:50px;vertical-align:middle" />Visits</center></div>
                    <div class="col"><center><input id="ultra" class="col" type="image" ng-click="select('ultra')" src="../img/temp/ultra.PNG" style="width:50px;height:50px;vertical-align:middle" />Ultra</center></div>
                    <div class="col"><center><input id="classes" class="col" type="image" ng-click="select('classes')" src="../img/temp/classes.PNG" style="width:50px;height:50px;vertical-align:middle" />Classes</center></div>
                </div>   
                <div class="list">
                    <label class="item item-input item-stacked-label">
                        <span class="input-label">Date</span>
                        <input type="date">
                    </label>
                    <center><canvas id="canvas" width="200" height="200"></canvas></center>
                    <label class="item item-input item-stacked-label">
                        <span class="input-label">Time</span>
                        <input type="time" id="eventTime" onchange="drawClock()" placeholder="Time">
                    </label>
                    <script>
                        var canvas = document.getElementById("canvas");
                        var ctx = canvas.getContext("2d");
                        var radius = canvas.height / 2;
                        ctx.translate(radius, radius);
                        radius = radius * 0.90
                        drawClock();

                        function drawClock() {
                          drawFace(ctx, radius);
                          drawNumbers(ctx, radius);
                          drawTime(ctx, radius);
                        }
                        function drawFace(ctx, radius) {
                          var grad;
                          ctx.beginPath();
                          ctx.arc(0, 0, radius, 0, 2*Math.PI);
                          ctx.fillStyle = 'white';
                          ctx.fill();
                          grad = ctx.createRadialGradient(0,0,radius*0.95, 0,0,radius*1.05);
                          grad.addColorStop(0, '#333');
                          ctx.lineWidth = radius*0.04;
                          ctx.stroke();
                          ctx.beginPath();
                          ctx.arc(0, 0, radius*0.1, 0, 2*Math.PI);
                          ctx.fillStyle = '#333';
                          ctx.fill();
                        }
                        function drawNumbers(ctx, radius) {
                          var ang;
                          var num;
                          ctx.font = radius*0.15 + "px arial";
                          ctx.textBaseline="middle";
                          ctx.textAlign="center";
                          for(num = 1; num < 13; num++){
                            ang = num * Math.PI / 6;
                            ctx.rotate(ang);
                            ctx.translate(0, -radius*0.85);
                            ctx.rotate(-ang);
                            ctx.fillText(num.toString(), 0, 0);
                            ctx.rotate(ang);
                            ctx.translate(0, radius*0.85);
                            ctx.rotate(-ang);
                          }
                        }
                        function drawTime(ctx, radius){
                            var input = document.getElementById("eventTime").value;
                            var hour = parseInt(input.slice(0, 2));
                            var minute = parseInt(input.slice(3, 5));
                            //hour
                            hour = hour % 12;
                            hour = (hour * Math.PI / 6) + (minute * Math.PI / (6 * 60));
                            drawHand(ctx, hour, radius * 0.5, radius * 0.07);
                            //minute
                            minute = (minute * Math.PI / 30);
                            drawHand(ctx, minute, radius * 0.8, radius * 0.07);
                        }
                        function drawHand(ctx, pos, length, width) {
                            ctx.beginPath();
                            ctx.lineWidth = width;
                            ctx.lineCap = "round";
                            ctx.moveTo(0,0);
                            ctx.rotate(pos);
                            ctx.lineTo(0, -length);
                            ctx.stroke();
                            ctx.rotate(-pos);
                        }
                    </script>
                        <label class="item item-input item-stacked-label">
                            <span class="input-label">Location</span>
                            <input type="text" placeholder="Location">
                        </label>
                </div>
                <center>
                    <div class="row" ng-controller="PopupCtrl">
                        <div class="col">
                            <img src="../img/temp/save.png" ng-click="addEvent()" style="width:25px; height:25px;" />
                        </div>
                        <div class="col">
                            <img src="../img/temp/delete.png" style="width:25px; height:25px;" />
                        </div>
                    </div>
                </center>
            </ion-content>
        </ion-view>
    </ion-pane>
</body>
</html>
